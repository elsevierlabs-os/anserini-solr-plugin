<!-- following XML blocks must be copy-pasted inside the schema element of managed-schema.
     Don't care about ordering, managed-schema is regenerated by Solr and everything will
     be rearranged anyway.
     This needs to be done before setting up the fields.
-->

  <similarity class="solr.SchemaSimilarityFactory">
    <str name="defaultSimFromFieldType">text_bm</str>
  </similarity>

  <fieldType name="text_bm" class="solr.TextField" positionIncrementGap="100" multiValued="true">
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.StopFilterFactory" words="stopwords.txt" ignoreCase="true"/>
      <filter class="solr.LowerCaseFilterFactory"/>
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.StopFilterFactory" words="stopwords.txt" ignoreCase="true"/>
      <filter class="solr.SynonymGraphFilterFactory" expand="true" ignoreCase="true" synonyms="synonyms.txt"/>
      <filter class="solr.LowerCaseFilterFactory"/>
    </analyzer>
    <similarity class="solr.BM25SimilarityFactory">
      <str name="b">0.75</str>
      <str name="k1">1.2</str>
    </similarity>
  </fieldType>

  <fieldType name="text_ql" class="solr.TextField" positionIncrementGap="100" multiValued="true">
    <analyzer type="index">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.StopFilterFactory" words="stopwords.txt" ignoreCase="true"/>
      <filter class="solr.LowerCaseFilterFactory"/>
    </analyzer>
    <analyzer type="query">
      <tokenizer class="solr.StandardTokenizerFactory"/>
      <filter class="solr.StopFilterFactory" words="stopwords.txt" ignoreCase="true"/>
      <filter class="solr.SynonymGraphFilterFactory" expand="true" ignoreCase="true" synonyms="synonyms.txt"/>
      <filter class="solr.LowerCaseFilterFactory"/>
    </analyzer>
    <similarity class="solr.LMDirichletSimilarityFactory">
      <str name="mu">2000</str>
    </similarity>
  </fieldType>

